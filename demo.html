<!DOCTYPE html>
<html class="no-js">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>CSS &amp; SVG Clipping Demo #5</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width">
<link href="https://fonts.googleapis.com/css?family=Teko" rel="stylesheet">
<link href="letter-positions.css" rel="stylesheet">
<link href="main-positioning.css" rel="stylesheet">
</head>
<body>
  <div id="word">
    <div id="p" class="letter">
      <a href="#p">P</a>
    </div>
    <div id="o" class="letter">
      <a href="#o">O</a>
    </div>
    <div id="l" class="letter">
      <a href="#l">L</a>
    </div>
    <div id="i" class="letter">
      <a href="#i">I</a>
    </div>
    <div id="c" class="letter">
      <a href="#c">C</a>
    </div>
    <div id="e" class="letter">
      <a href="#e">E</a>
    </div>
  </div>
  <div id="overlay">
    <a href="#" id="close">X</a>
  </div>
  <script src="./jquery-3.1.1.min.js"></script>
  <script type="text/javascript">
    $('document').ready(function(){
      $('.letter a').click(function(ev){
        ev.preventDefault();
        $('.letter a').removeClass('large');
        var anchor = $(this);
        $(this).addClass('large').parent().siblings().addClass('hidden');
        setTimeout(function(){
          console.log('Faking overlay!')
          $('#overlay').addClass('shown');
          anchor.attr('data-background', anchor.css('background-image'));
          var img = new Image();
          img.onload = function(){
            anchor.css('background-image', 'url(' + img.src + ')');
          }
          img.src = 'images/' + anchor.parent().attr('id') + '-plate-large.png';
        },2800)
        return false;
      })
      $('#close').click(function(ev){
        ev.preventDefault();
        $('#overlay').removeClass('shown');
        var anchor = $('.letter a.large');
        anchor.css('background-image', anchor.attr('data-background'));
        anchor.removeClass('large').one('transitionend', function(){
          $('.letter').removeClass('hidden');
        })
        return false;
      })
    })
  </script>
</body>
</html>
